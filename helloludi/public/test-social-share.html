<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test - Boutons de Partage Social</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.min.css" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 2rem;
            background-color: #f5f4f2;
        }
        .test-section {
            background: white;
            padding: 2rem;
            margin: 2rem 0;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .test-title {
            color: #5d4e37;
            border-bottom: 2px solid #8b785d;
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }
    </style>
</head>
<body>
    <h1>🧪 Test des Boutons de Partage Social</h1>
    <p>Cette page teste les différents composants de partage social du blog Hello Ludi.</p>
    
    <!-- Test 1: Boutons complets -->
    <div class="test-section">
        <h2 class="test-title">1. Boutons Complets (Page d'article)</h2>
        <div id="full-buttons-test"></div>
    </div>
    
    <!-- Test 2: Boutons compacts -->
    <div class="test-section">
        <h2 class="test-title">2. Boutons Compacts (Sidebar)</h2>
        <div id="compact-buttons-test"></div>
    </div>
    
    <!-- Test 3: Widget -->
    <div class="test-section">
        <h2 class="test-title">3. Widget de Partage (Cartes d'articles)</h2>
        <div id="widget-test"></div>
    </div>
    
    <!-- Test 4: Test de copie -->
    <div class="test-section">
        <h2 class="test-title">4. Test de Copie de Lien</h2>
        <button id="copy-test-btn" style="padding: 1rem 2rem; background: #8b785d; color: white; border: none; border-radius: 10px; cursor: pointer;">
            <i class="fas fa-link"></i> Tester la copie de lien
        </button>
        <p id="copy-result" style="margin-top: 1rem; color: green;"></p>
    </div>
    
    <script>
        // Simulation des composants Twig en JavaScript pur pour les tests
        
        // Test 1: Boutons complets
        const fullButtonsHtml = `
            <div class="social-share-container" style="background: linear-gradient(135deg, #f8f6f0, #e8e3d3); border-radius: 20px; padding: 2rem; text-align: center;">
                <div class="share-header">
                    <h5><i class="bi bi-share"></i> Partager cet article</h5>
                    <p>Faites découvrir ce contenu à vos amis !</p>
                </div>
                <div class="share-buttons-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 1rem; max-width: 600px; margin: 0 auto;">
                    <button class="share-btn facebook" style="display: flex; flex-direction: column; align-items: center; gap: 0.5rem; padding: 1rem; border: none; border-radius: 15px; background: linear-gradient(135deg, #1877f2, #42a5f5); color: white; cursor: pointer; transition: all 0.3s ease;">
                        <i class="fab fa-facebook-f"></i>
                        <span>Facebook</span>
                    </button>
                    <button class="share-btn twitter" style="display: flex; flex-direction: column; align-items: center; gap: 0.5rem; padding: 1rem; border: none; border-radius: 15px; background: linear-gradient(135deg, #1da1f2, #0d8bd9); color: white; cursor: pointer; transition: all 0.3s ease;">
                        <i class="fab fa-x-twitter"></i>
                        <span>Twitter</span>
                    </button>
                    <button class="share-btn whatsapp" style="display: flex; flex-direction: column; align-items: center; gap: 0.5rem; padding: 1rem; border: none; border-radius: 15px; background: linear-gradient(135deg, #25d366, #128c7e); color: white; cursor: pointer; transition: all 0.3s ease;">
                        <i class="fab fa-whatsapp"></i>
                        <span>WhatsApp</span>
                    </button>
                    <button class="share-btn copy" style="display: flex; flex-direction: column; align-items: center; gap: 0.5rem; padding: 1rem; border: none; border-radius: 15px; background: linear-gradient(135deg, #8b785d, #a0926f); color: white; cursor: pointer; transition: all 0.3s ease;">
                        <i class="fas fa-link"></i>
                        <span>Copier</span>
                    </button>
                </div>
            </div>
        `;
        
        // Test 2: Boutons compacts
        const compactButtonsHtml = `
            <div class="share-compact" style="display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.5rem; background: rgba(139, 120, 93, 0.1); border-radius: 25px; cursor: pointer;">
                <span style="display: flex; align-items: center; gap: 0.3rem; color: #8b785d;">
                    <i class="bi bi-share-fill"></i>
                    <span>Partager</span>
                </span>
                <div class="compact-buttons" style="display: flex; gap: 0.3rem;">
                    <button style="width: 32px; height: 32px; border: none; border-radius: 50%; background: #1877f2; color: white; cursor: pointer;"><i class="fab fa-facebook-f"></i></button>
                    <button style="width: 32px; height: 32px; border: none; border-radius: 50%; background: #1da1f2; color: white; cursor: pointer;"><i class="fab fa-x-twitter"></i></button>
                    <button style="width: 32px; height: 32px; border: none; border-radius: 50%; background: #25d366; color: white; cursor: pointer;"><i class="fab fa-whatsapp"></i></button>
                    <button style="width: 32px; height: 32px; border: none; border-radius: 50%; background: #8b785d; color: white; cursor: pointer;"><i class="fas fa-link"></i></button>
                </div>
            </div>
        `;
        
        // Test 3: Widget
        const widgetHtml = `
            <div style="position: relative; display: inline-flex; align-items: center;">
                <span style="padding: 0.4rem 0.7rem; background: rgba(139, 120, 93, 0.1); border-radius: 20px; color: #8b785d; cursor: pointer;">
                    <i class="bi bi-share-fill"></i> 42
                </span>
            </div>
        `;
        
        // Injection du HTML
        document.getElementById('full-buttons-test').innerHTML = fullButtonsHtml;
        document.getElementById('compact-buttons-test').innerHTML = compactButtonsHtml;
        document.getElementById('widget-test').innerHTML = widgetHtml;
        
        // Test de copie
        document.getElementById('copy-test-btn').addEventListener('click', function() {
            const testUrl = window.location.href;
            
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(testUrl).then(() => {
                    document.getElementById('copy-result').textContent = '✅ Lien copié avec succès ! URL: ' + testUrl;
                }).catch(err => {
                    document.getElementById('copy-result').textContent = '❌ Erreur lors de la copie: ' + err;
                });
            } else {
                // Fallback
                const textArea = document.createElement('textarea');
                textArea.value = testUrl;
                textArea.style.position = 'fixed';
                textArea.style.left = '-999999px';
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                
                try {
                    const success = document.execCommand('copy');
                    if (success) {
                        document.getElementById('copy-result').textContent = '✅ Lien copié (fallback) ! URL: ' + testUrl;
                    } else {
                        document.getElementById('copy-result').textContent = '❌ Échec de la copie (fallback)';
                    }
                } catch (err) {
                    document.getElementById('copy-result').textContent = '❌ Erreur: ' + err;
                }
                
                document.body.removeChild(textArea);
            }
        });
        
        // Gestion des clics sur les boutons de partage (simulation)
        document.addEventListener('click', function(e) {
            if (e.target.closest('.share-btn') || e.target.closest('.compact-buttons button')) {
                const button = e.target.closest('.share-btn') || e.target.closest('button');
                const platform = button.classList.contains('facebook') ? 'Facebook' :
                               button.classList.contains('twitter') ? 'Twitter' :
                               button.classList.contains('whatsapp') ? 'WhatsApp' :
                               button.classList.contains('copy') ? 'Copie' : 'Plateforme';
                
                // Animation de feedback
                button.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    button.style.transform = '';
                }, 150);
                
                alert('🚀 Partage simulé sur ' + platform + ' !\n\nEn production, cela ouvrirait une fenêtre de partage.');
            }
        });
        
        // Effet hover pour les boutons
        document.addEventListener('mouseover', function(e) {
            if (e.target.closest('.share-btn')) {
                e.target.closest('.share-btn').style.transform = 'translateY(-3px)';
            }
        });
        
        document.addEventListener('mouseout', function(e) {
            if (e.target.closest('.share-btn')) {
                e.target.closest('.share-btn').style.transform = '';
            }
        });
    </script>
</body>
</html>