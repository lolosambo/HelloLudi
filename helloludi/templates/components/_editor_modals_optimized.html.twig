{# templates/components/_editor_modals_optimized.html.twig #}

{# Modal pour les liens #}
<div class="modal fade" id="linkModal" tabindex="-1" aria-labelledby="linkModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="linkModalLabel">
                    <i class="bi bi-link-45deg me-2"></i>Insérer un lien
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label for="linkText" class="form-label">Texte du lien *</label>
                    <input type="text" class="form-control" id="linkText" placeholder="Texte à afficher" required>
                </div>
                <div class="mb-3">
                    <label for="linkUrl" class="form-label">URL *</label>
                    <input type="url" class="form-control" id="linkUrl" placeholder="https://exemple.com" required>
                </div>
                <div class="mb-3">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="linkTarget" checked>
                        <label class="form-check-label" for="linkTarget">
                            Ouvrir dans un nouvel onglet
                        </label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    <i class="bi bi-x-lg me-1"></i>Annuler
                </button>
                <button type="button" class="btn btn-primary" id="insertLinkBtn">
                    <i class="bi bi-check-lg me-1"></i>Insérer le lien
                </button>
            </div>
        </div>
    </div>
</div>

{# Modal pour les images #}
<div class="modal fade" id="imageModal" tabindex="-1" aria-labelledby="imageModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="imageModalLabel">
                    <i class="bi bi-image me-2"></i>Insérer une image
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
            </div>
            <div class="modal-body">
                <ul class="nav nav-tabs" id="imageTab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="upload-tab" data-bs-toggle="tab" data-bs-target="#upload" type="button" role="tab">
                            <i class="bi bi-upload me-1"></i>Upload
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="url-tab" data-bs-toggle="tab" data-bs-target="#url" type="button" role="tab">
                            <i class="bi bi-link me-1"></i>URL
                        </button>
                    </li>
                </ul>

                <div class="tab-content" id="imageTabContent">
                    <div class="tab-pane fade show active" id="upload" role="tabpanel">
                        <div class="mt-3">
                            <label for="imageFile" class="form-label">Choisir un fichier image</label>
                            <input type="file" class="form-control" id="imageFile" accept="image/*">
                            <div class="form-text">
                                Formats acceptés : JPG, PNG, GIF, WebP (max. 20Mo)
                            </div>
                            <div id="imagePreview" class="mt-3" style="display: none;">
                                <img id="previewImg" src="" alt="Aperçu" class="img-thumbnail" style="max-width: 200px; max-height: 150px;">
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="url" role="tabpanel">
                        <div class="mt-3">
                            <label for="imageUrl" class="form-label">URL de l'image</label>
                            <input type="url" class="form-control" id="imageUrl" placeholder="https://exemple.com/image.jpg">
                        </div>
                    </div>
                </div>

                <div class="mt-3">
                    <label for="imageAlt" class="form-label">Texte alternatif</label>
                    <input type="text" class="form-control" id="imageAlt" placeholder="Description de l'image">
                    <div class="form-text">Important pour l'accessibilité</div>
                </div>

                <div class="row mt-3">
                    <div class="col-md-6">
                        <label for="imageWidth" class="form-label">Largeur (optionnel)</label>
                        <input type="number" class="form-control" id="imageWidth" placeholder="Pixels">
                    </div>
                    <div class="col-md-6">
                        <label for="imageHeight" class="form-label">Hauteur (optionnel)</label>
                        <input type="number" class="form-control" id="imageHeight" placeholder="Pixels">
                    </div>
                </div>

                <div class="mt-3">
                    <label class="form-label">Alignement de l'image</label>
                    <div class="btn-group w-100" role="group">
                        <input type="radio" class="btn-check" name="imageAlign" id="alignLeft" value="left" checked>
                        <label class="btn btn-outline-secondary" for="alignLeft">
                            <i class="bi bi-text-left"></i> Gauche
                        </label>

                        <input type="radio" class="btn-check" name="imageAlign" id="alignCenter" value="center">
                        <label class="btn btn-outline-secondary" for="alignCenter">
                            <i class="bi bi-text-center"></i> Centre
                        </label>

                        <input type="radio" class="btn-check" name="imageAlign" id="alignRight" value="right">
                        <label class="btn btn-outline-secondary" for="alignRight">
                            <i class="bi bi-text-right"></i> Droite
                        </label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    <i class="bi bi-x-lg me-1"></i>Annuler
                </button>
                <button type="button" class="btn btn-primary" id="insertImageBtn" disabled>
                    <i class="bi bi-check-lg me-1"></i>Insérer l'image
                </button>
            </div>
        </div>
    </div>
</div>

{# Modal pour les tableaux #}
<div class="modal fade" id="tableModal" tabindex="-1" aria-labelledby="tableModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="tableModalLabel">
                    <i class="bi bi-table me-2"></i>Insérer un tableau
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label for="tableRows" class="form-label">Nombre de lignes</label>
                            <input type="number" class="form-control" id="tableRows" value="3" min="1" max="20">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label for="tableCols" class="form-label">Nombre de colonnes</label>
                            <input type="number" class="form-control" id="tableCols" value="3" min="1" max="10">
                        </div>
                    </div>
                </div>

                <div class="mb-3">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="tableHeader" checked>
                        <label class="form-check-label" for="tableHeader">
                            Inclure une ligne d'en-tête
                        </label>
                    </div>
                </div>

                <div class="mb-3">
                    <label class="form-label">Style du tableau</label>
                    <div class="btn-group w-100" role="group">
                        <input type="radio" class="btn-check" name="tableStyle" id="tableStyleDefault" value="default" checked>
                        <label class="btn btn-outline-secondary" for="tableStyleDefault">Défaut</label>

                        <input type="radio" class="btn-check" name="tableStyle" id="tableStyleStriped" value="striped">
                        <label class="btn btn-outline-secondary" for="tableStyleStriped">Rayé</label>

                        <input type="radio" class="btn-check" name="tableStyle" id="tableStyleBordered" value="bordered">
                        <label class="btn btn-outline-secondary" for="tableStyleBordered">Bordures</label>

                        <input type="radio" class="btn-check" name="tableStyle" id="tableStyleHover" value="hover">
                        <label class="btn btn-outline-secondary" for="tableStyleHover">Survol</label>
                    </div>
                </div>

                <div class="mb-3">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="tableResponsive" checked>
                        <label class="form-check-label" for="tableResponsive">
                            Tableau responsive
                        </label>
                    </div>
                </div>

                <div class="mt-4">
                    <h6>Aperçu :</h6>
                    <div id="tablePreview" class="border rounded p-3 bg-light">
                        <!-- Aperçu généré dynamiquement -->
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    <i class="bi bi-x-lg me-1"></i>Annuler
                </button>
                <button type="button" class="btn btn-primary" id="insertTableBtn">
                    <i class="bi bi-check-lg me-1"></i>Insérer le tableau
                </button>
            </div>
        </div>
    </div>
</div>

{# Modal pour les vidéos YouTube #}
<div class="modal fade" id="videoModal" tabindex="-1" aria-labelledby="videoModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="videoModalLabel">
                    <i class="bi bi-youtube me-2"></i>Insérer une vidéo YouTube
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label for="videoUrl" class="form-label">URL de la vidéo YouTube *</label>
                    <input type="url" class="form-control" id="videoUrl" placeholder="https://www.youtube.com/watch?v=..." required>
                    <div class="form-text">
                        Collez l'URL complète de la vidéo YouTube ou l'ID de la vidéo
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label for="videoWidth" class="form-label">Largeur</label>
                            <input type="number" class="form-control" id="videoWidth" value="560" min="200" max="1920">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label for="videoHeight" class="form-label">Hauteur</label>
                            <input type="number" class="form-control" id="videoHeight" value="315" min="150" max="1080">
                        </div>
                    </div>
                </div>

                <div class="mb-3">
                    <label class="form-label">Alignement de la vidéo</label>
                    <div class="btn-group w-100" role="group">
                        <input type="radio" class="btn-check" name="videoAlign" id="videoAlignLeft" value="left">
                        <label class="btn btn-outline-secondary" for="videoAlignLeft">
                            <i class="bi bi-text-left"></i> Gauche
                        </label>

                        <input type="radio" class="btn-check" name="videoAlign" id="videoAlignCenter" value="center" checked>
                        <label class="btn btn-outline-secondary" for="videoAlignCenter">
                            <i class="bi bi-text-center"></i> Centre
                        </label>

                        <input type="radio" class="btn-check" name="videoAlign" id="videoAlignRight" value="right">
                        <label class="btn btn-outline-secondary" for="videoAlignRight">
                            <i class="bi bi-text-right"></i> Droite
                        </label>
                    </div>
                </div>

                <div class="mb-3">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="videoResponsive" checked>
                        <label class="form-check-label" for="videoResponsive">
                            Vidéo responsive (s'adapte à la taille de l'écran)
                        </label>
                    </div>
                </div>

                <div id="videoPreview" class="mt-4" style="display: none;">
                    <h6>Aperçu :</h6>
                    <div class="border rounded p-3 bg-light text-center">
                        <div id="videoPreviewContent"></div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    <i class="bi bi-x-lg me-1"></i>Annuler
                </button>
                <button type="button" class="btn btn-primary" id="insertVideoBtn" disabled>
                    <i class="bi bi-check-lg me-1"></i>Insérer la vidéo
                </button>
            </div>
        </div>
    </div>
</div>