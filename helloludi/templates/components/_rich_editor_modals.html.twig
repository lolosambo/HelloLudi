{# Modales pour l'éditeur de texte riche #}

<!-- Modal pour insérer un lien -->
<div class="modal fade" id="linkModal" tabindex="-1" aria-labelledby="linkModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="linkModalLabel">
                    <i class="bi bi-link-45deg"></i> Insérer un lien
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="linkForm">
                    <div class="mb-3">
                        <label for="linkText" class="form-label">Texte du lien</label>
                        <input type="text" class="form-control" id="linkText" placeholder="Texte à afficher">
                    </div>
                    <div class="mb-3">
                        <label for="linkUrl" class="form-label">URL</label>
                        <input type="url" class="form-control" id="linkUrl" placeholder="https://exemple.com">
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="linkTarget" value="1">
                        <label class="form-check-label" for="linkTarget">
                            Ouvrir dans un nouvel onglet
                        </label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
                <button type="button" class="btn btn-primary" id="insertLinkBtn">Insérer le lien</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal pour insérer une image -->
<div class="modal fade" id="imageModal" tabindex="-1" aria-labelledby="imageModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="imageModalLabel">
                    <i class="bi bi-image"></i> Insérer une image
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <ul class="nav nav-tabs" id="imageTabList" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="upload-tab" data-bs-toggle="tab" 
                                data-bs-target="#upload" type="button" role="tab" 
                                aria-controls="upload" aria-selected="true">
                            <i class="bi bi-cloud-upload"></i> Télécharger
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="url-tab" data-bs-toggle="tab" 
                                data-bs-target="#url" type="button" role="tab" 
                                aria-controls="url" aria-selected="false">
                            <i class="bi bi-link"></i> URL
                        </button>
                    </li>
                </ul>
                <div class="tab-content" id="imageTabContent">
                    <!-- Onglet Upload -->
                    <div class="tab-pane fade show active" id="upload" role="tabpanel" aria-labelledby="upload-tab">
                        <div class="mt-3">
                            <div class="upload-zone" id="imageUploadZone">
                                <div class="upload-zone-content">
                                    <i class="bi bi-cloud-upload-fill"></i>
                                    <p class="mb-2"><strong>Glissez votre image ici</strong></p>
                                    <p class="text-muted mb-3">ou cliquez pour sélectionner</p>
                                    <input type="file" class="d-none" id="imageFileInput" 
                                           accept="image/*" multiple>
                                    <button type="button" class="btn btn-primary" 
                                            onclick="document.getElementById('imageFileInput').click()">
                                        Choisir des images
                                    </button>
                                </div>
                            </div>
                            <div class="mt-3">
                                <small class="text-muted">Formats acceptés: JPG, PNG, GIF, WEBP - Max 10MB par image</small>
                            </div>
                            <div id="uploadPreview" class="mt-3"></div>
                        </div>
                    </div>
                    <!-- Onglet URL -->
                    <div class="tab-pane fade" id="url" role="tabpanel" aria-labelledby="url-tab">
                        <div class="mt-3">
                            <div class="mb-3">
                                <label for="imageUrl" class="form-label">URL de l'image</label>
                                <input type="url" class="form-control" id="imageUrl" 
                                       placeholder="https://exemple.com/image.jpg">
                            </div>
                            <div id="urlPreview" class="mt-3"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Configuration de l'image -->
                <div class="image-config mt-4" id="imageConfig" style="display: none;">
                    <hr>
                    <h6><i class="bi bi-gear"></i> Configuration de l'image</h6>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="imageAlt" class="form-label">Texte alternatif</label>
                                <input type="text" class="form-control" id="imageAlt" 
                                       placeholder="Description de l'image">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="imageAlign" class="form-label">Alignement</label>
                                <select class="form-select" id="imageAlign">
                                    <option value="">Par défaut</option>
                                    <option value="left">Gauche</option>
                                    <option value="center">Centre</option>
                                    <option value="right">Droite</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="imageWidth" class="form-label">Largeur (px)</label>
                                <input type="number" class="form-control" id="imageWidth" 
                                       placeholder="Auto">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="imageHeight" class="form-label">Hauteur (px)</label>
                                <input type="number" class="form-control" id="imageHeight" 
                                       placeholder="Auto">
                            </div>
                        </div>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="maintainRatio" checked>
                        <label class="form-check-label" for="maintainRatio">
                            Conserver les proportions
                        </label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
                <button type="button" class="btn btn-primary" id="insertImageBtn" disabled>
                    Insérer l'image
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Modal pour insérer une vidéo -->
<div class="modal fade" id="videoModal" tabindex="-1" aria-labelledby="videoModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="videoModalLabel">
                    <i class="bi bi-camera-video"></i> Insérer une vidéo
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <ul class="nav nav-tabs" id="videoTabList" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="youtube-tab" data-bs-toggle="tab" 
                                data-bs-target="#youtube" type="button" role="tab" 
                                aria-controls="youtube" aria-selected="true">
                            <i class="bi bi-youtube"></i> YouTube
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="video-upload-tab" data-bs-toggle="tab" 
                                data-bs-target="#video-upload" type="button" role="tab" 
                                aria-controls="video-upload" aria-selected="false">
                            <i class="bi bi-cloud-upload"></i> Télécharger
                        </button>
                    </li>
                </ul>
                <div class="tab-content" id="videoTabContent">
                    <!-- Onglet YouTube -->
                    <div class="tab-pane fade show active" id="youtube" role="tabpanel" aria-labelledby="youtube-tab">
                        <div class="mt-3">
                            <div class="mb-3">
                                <label for="youtubeUrl" class="form-label">URL YouTube</label>
                                <input type="url" class="form-control" id="youtubeUrl" 
                                       placeholder="https://www.youtube.com/watch?v=...">
                                <div class="form-text">
                                    Collez l'URL complète de la vidéo YouTube
                                </div>
                            </div>
                            <div id="youtubePreview" class="mt-3"></div>
                        </div>
                    </div>
                    <!-- Onglet Upload vidéo -->
                    <div class="tab-pane fade" id="video-upload" role="tabpanel" aria-labelledby="video-upload-tab">
                        <div class="mt-3">
                            <div class="upload-zone" id="videoUploadZone">
                                <div class="upload-zone-content">
                                    <i class="bi bi-camera-video-fill"></i>
                                    <p class="mb-2"><strong>Glissez votre vidéo ici</strong></p>
                                    <p class="text-muted mb-3">ou cliquez pour sélectionner</p>
                                    <input type="file" class="d-none" id="videoFileInput" 
                                           accept="video/*">
                                    <button type="button" class="btn btn-primary" 
                                            onclick="document.getElementById('videoFileInput').click()">
                                        Choisir une vidéo
                                    </button>
                                </div>
                            </div>
                            <div class="mt-3">
                                <small class="text-muted">Formats acceptés: MP4, WebM, MOV - Max 50MB</small>
                            </div>
                            <div id="videoUploadPreview" class="mt-3"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Configuration vidéo -->
                <div class="video-config mt-4" id="videoConfig" style="display: none;">
                    <hr>
                    <h6><i class="bi bi-gear"></i> Configuration de la vidéo</h6>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="videoAlign" class="form-label">Alignement</label>
                                <select class="form-select" id="videoAlign">
                                    <option value="center">Centre</option>
                                    <option value="left">Gauche</option>
                                    <option value="right">Droite</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="videoWidth" class="form-label">Largeur (%)</label>
                                <select class="form-select" id="videoWidth">
                                    <option value="100">100% (Pleine largeur)</option>
                                    <option value="75">75%</option>
                                    <option value="50">50%</option>
                                    <option value="25">25%</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="videoAutoplay">
                        <label class="form-check-label" for="videoAutoplay">
                            Lecture automatique (non recommandé)
                        </label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
                <button type="button" class="btn btn-primary" id="insertVideoBtn" disabled>
                    Insérer la vidéo
                </button>
            </div>
        </div>
    </div>
</div>

<!-- La modale de tableau est maintenant générée dynamiquement par table-editor.js -->
